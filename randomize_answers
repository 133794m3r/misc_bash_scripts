#!/bin/bash
#todo: going to add the option to change how many answers are generated by default.
sorted='';
function randomize_single_given(){
max=4;
correct_num=$(expr $RANDOM % 4);
echo "correct num:$correct_num";
for (( i=0; i<$max; i++ ))
do
    if [ $i != $correct_num ]
    then
sorted=$(echo $1 | sed -e $'s/,/\\n/g' | sort -R | tr '\n' ',' | sed 's/.$//');
#awk -F'\n' -v OFS=", " '$1=$1' <<< $sorted;
#sorted=$(echo $sorted | sed -e 's/\ /\,\ /g');
echo $sorted;
    else
    echo $(echo $1 | sed -e 's/\,/\,/g')
    fi
done;
return 0;
}
function randomize_all_given(){
max=4;
#correct_num=$(expr $RANDOM % 4);
#for (( i=0; i<$max; i++ ))
#do
#    if [ $i != $correct_num ]
#    then

#echo "$1" | sed -e $'s/,/\\n/g' | sort -R;
echo $1 | sed -e $'s/,/\\n/g' | tr '\&' ',' | sort -R;
#awk -F'\n' -v OFS=", " '$1=$1' <<< $sorted;
#sorted=$(echo $sorted | sed -e 's/\ /\,\ /g');
#    else
#    echo $(echo $1 | sed -e 's/\,/\,\ /g')
#    fi
#done;
    return 0;
}
function select_randomizer(){
	if [ $1 == 's' ];
	then
	randomize_single_given "$2" "$3";
	elif [ $1 == '-h' ] || [ $1 == '' ];
	then
	echo "usage: randomize_answers [single_string|s]|[all_answers|a] [{number_of_answers}2|4|5] {string,of,answers}"
	else
	randomize_all_given "$2" "$3";
	fi
	return 0;
}

select_randomizer $1 "$2" "$3";
#echo sorted;
